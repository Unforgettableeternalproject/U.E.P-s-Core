module_name: "mov_module"
module_type: "frontend"
priority: 3

physics:
  gravity: 0.8               # é‡åŠ›åŠ é€Ÿåº¦
  damping: 0.978             # é€šç”¨é˜»å°¼ï¼ˆå·²æ£„ç”¨ï¼Œä¿ç•™ç›¸å®¹æ€§ï¼‰
  ground_friction: 0.95      # åœ°é¢æ‘©æ“¦ä¿‚æ•¸
  air_resistance: 0.95      # ç©ºæ°£é˜»åŠ›ä¿‚æ•¸ï¼ˆèª¿é«˜ä»¥æ¸›å°‘ç©ºä¸­æ…£æ€§è¡°æ¸›ï¼‰
  bounce_factor: 0.4         # åœ°é¢åå½ˆä¿‚æ•¸
  ground_offset: 48          # åœ°é¢åç§»é‡

movement:
  ground_speed: 2.2
  float_speed_min: 1.0
  float_speed_max: 3.5
  approach_factor: 0.12       # â†’ é€Ÿåº¦è¶¨è¿‘ä¿‚æ•¸ï¼ˆåŸæœ¬ç¡¬ç·¨ï¼‰
  target_reach_threshold: 50  # å¢åŠ åˆ°é”é–¾å€¼ï¼Œè®“ç§»å‹•æ›´æŒä¹…

state_machine:
  transition_duration: 2.0
  idle:
    min_duration: 4.0          # å¢åŠ æœ€å°é–’ç½®æ™‚é–“ï¼ˆçµ¦ cursor tracking æ›´å¤šæ™‚é–“ï¼‰
    max_duration: 12.0         # å¤§å¹…å¢åŠ æœ€å¤§é–’ç½®æ™‚é–“
    tick_chance: 0.02          # é€²ä¸€æ­¥é™ä½æ¯ tick çµæŸé–’ç½®çš„æ©Ÿç‡ï¼ˆæ›´ç©©å®šçš„ IDLEï¼‰
  # èª¿æ•´æ¬Šé‡è®“è½‰æ›æ›´å®¹æ˜“è§¸ç™¼
  weights_ground:
    NORMAL_MOVE: 0.40         # ç¨å¾®é™ä½ç§»å‹•æ©Ÿç‡
    IDLE: 0.30                # é™ä½é–’ç½®æ©Ÿç‡
    SPECIAL_MOVE: 0.20
    TRANSITION: 0.10          # å¤§å¹…æé«˜è½‰æ›æ©Ÿç‡ï¼ˆå¾3%æé«˜åˆ°20%ï¼‰
  weights_float:
    NORMAL_MOVE: 0.35
    IDLE: 0.40                # æµ®ç©ºæ™‚åå¥½é–’ç½®
    SPECIAL_MOVE: 0.20
    TRANSITION: 0.05          # å¤§å¹…æé«˜è½‰æ›æ©Ÿç‡ï¼ˆå¾5%æé«˜åˆ°25%ï¼‰

boundaries:
  screen_padding: 20
  keep_on_screen: true
  bounce_off_edges: false
  # é‚Šç•Œè™•ç†æ¨¡å¼
  # "barrier": ç¢°åˆ°é‚Šç•Œåœæ­¢ä¸¦è½‰å‘ï¼ˆé è¨­ï¼‰
  # "wrap": å¾ä¸€é‚Šé›¢é–‹å¾Œå¾å¦ä¸€é‚Šé€²å…¥ï¼ˆå¾ªç’°æ¨¡å¼ï¼Œé©åˆå¤šè¢å¹•æˆ–æƒ³è¦é€£çºŒç§»å‹•çš„å ´æ™¯ï¼‰
  boundary_mode: "barrier"

timers:
  behavior_interval_ms: 100
  movement_interval_ms: 16

# æŠ•æ“²åƒæ•¸ï¼ˆç”± ThrowHandler ä½¿ç”¨ï¼‰
# åƒè€ƒ desktop_pet.py å„ªåŒ–å¾Œçš„é–¾å€¼
throw_threshold_speed: 400.0    # æŠ•æ“²é€Ÿåº¦é–€æª» (px/s) - å¾ 200 èª¿æ•´åˆ° 400ï¼ˆæ›´åˆç†ï¼‰
throw_threshold_dist: 100.0      # æŠ•æ“²è·é›¢é–€æª» (px) - å¾ 30 èª¿æ•´åˆ° 45ï¼ˆæ›´åˆç†ï¼‰
max_throw_speed: 110.0           # æœ€å¤§æŠ•æ“²é€Ÿåº¦ (px/s) - é™ä½é€Ÿåº¦ä»¥æ¸›å°‘é£›è¡Œè·é›¢
throw_post_tease_delay: 3.0     # æŠ•æ“²å¾Œèª¿çš®å‹•ç•«å»¶é² (ç§’)

# æ»‘é¼ è¿½è¹¤åƒæ•¸
cursor_head_turn_sensitivity: 9  # è½‰é ­éˆæ•åº¦ï¼ˆè§’åº¦/å¹€ï¼‰ï¼Œå½±éŸ¿ turn_head å‹•ç•«å¹€æ•¸è¨ˆç®—

# å…¥å ´/å‡ºå ´è¡Œç‚ºé…ç½®ï¼ˆå‹•ç•«åç¨±ç”± ANI æ¨¡çµ„ç®¡ç†ï¼‰
entry_behavior:
  enabled: true
  mode: "FLOAT"                  # å…¥å ´å¾Œçš„æ¨¡å¼ (GROUND/FLOAT)
  start_position: "top_left"   # èµ·å§‹ä½ç½® (top_center/bottom_center/left/right/center)
  
exit_behavior:
  enabled: false                 # å‡ºå ´åŠŸèƒ½é ç•™

# ç§»å‹•å¹³æ»‘åŒ–åƒæ•¸
movement_smoothing:
  enabled: true
  velocity_lerp_factor: 0.15     # é€Ÿåº¦å¹³æ»‘ä¿‚æ•¸ (0-1ï¼Œè¶Šå°è¶Šå¹³æ»‘)
  pause_damping: 0.85            # æš«åœæ™‚çš„æ…£æ€§æ¸›é€Ÿä¿‚æ•¸
  resume_acceleration: 0.2       # æ¢å¾©æ™‚çš„åŠ é€Ÿä¿‚æ•¸

tease_tracking:
  time_window: 10.0            # è¿½è¹¤æ™‚é–“çª—å£ (ç§’)
  interaction_threshold: 5     # äº’å‹•æ¬¡æ•¸é–¾å€¼ï¼ˆæ‹–æ›³+æŠ•æ“²ï¼‰

# ğŸ² å½©è›‹å‹•ç•«é…ç½®
easter_egg:
  enabled: true
  trigger_chance: 0.03         # æ¯æ¬¡ idle tick è§¸ç™¼æ©Ÿç‡ï¼ˆ3%ï¼‰
  cooldown: 60.0               # å†·å»æ™‚é–“ï¼ˆç§’ï¼‰ï¼Œé¿å…éæ–¼é »ç¹
  # ç‰¹å®šå½©è›‹å‹•ç•«æ¢ä»¶
  chilling_requires_music: false  # chilling_f æ˜¯å¦éœ€è¦æª¢æ¸¬éŸ³æ¨‚æ’­æ”¾ï¼ˆé ç•™åŠŸèƒ½ï¼‰
  yawn_boredom_threshold: 0.7    # yawn_g è§¸ç™¼çš„ boredom é–¾å€¼ï¼ˆé ç•™åŠŸèƒ½ï¼‰

# ğŸ­ æƒ…ç·’é–’ç½®å‹•ç•«é…ç½®
mood_based_idle:
  enabled: true
  # æƒ…ç·’é–¾å€¼ï¼ˆç”¨æ–¼é¸æ“‡ç‰¹æ®Šé–’ç½®å‹•ç•«ï¼‰
  thresholds:
    angry:         # angry_idle_f: ä¸çˆ½ä½†è‡ªå°Šé«˜
      mood_max: 0.4
      pride_min: 0.6
    awkward:       # awkward_f: é–‹å¿ƒä½†è‡ªå°Šä½
      mood_min: 0.6
      pride_max: 0.4
    curious:       # curious_idle_f: é–‹å¿ƒä¸”è‡ªå°Šé«˜
      mood_min: 0.6
      pride_min: 0.6

interaction:
  drag_enabled: true
  throw_enabled: true
  drag:
    trigger_threshold: 5  # é–‹å§‹æ‹–æ›³çš„æœ€å°ç§»å‹•è·é›¢ï¼ˆåƒç´ ï¼‰
    struggle_animation: struggle
    struggle_loop: true
  throw:
    velocity_threshold: 500.0  # [å·²æ£„ç”¨] åˆ¤å®šç‚ºæŠ•æ“²çš„é€Ÿåº¦é–¾å€¼ï¼ˆåƒç´ /ç§’ï¼‰
    max_velocity: 2000.0  # [å·²æ£„ç”¨] æœ€å¤§æŠ•æ“²é€Ÿåº¦é™åˆ¶
    gravity_multiplier: 1.2  # [å·²æ£„ç”¨] æŠ•æ“²æ™‚çš„é‡åŠ›å€æ•¸
  file_drop:
    enabled: false  # é ç•™åŠŸèƒ½
    accept_types:
      - ".txt"
      - ".md"
      - ".py"
      - ".json"

# ==================== è™•ç†å™¨èˆ‡ç­–ç•¥ç³»çµ± ====================
handlers:
  layer:
    enabled: true
    throw_velocity_threshold: 500.0
    height_threshold: 100
  drag:
    enabled: true
  file_drop:
    enabled: false

# ==================== å‹•ç•«å„ªå…ˆåº¦ç³»çµ± ====================
# å°æ‡‰ AnimationPriority æšèˆ‰å€¼ï¼ˆæ•¸å­—è¶Šå¤§å„ªå…ˆåº¦è¶Šé«˜ï¼‰
animation_priority:
  # å•Ÿç”¨å„ªå…ˆåº¦ç®¡ç†ç³»çµ±
  enabled: true
  
  # å„ªå…ˆåº¦ç­‰ç´šå®šç¾©ï¼ˆåƒè€ƒ core/animation_priority.pyï¼‰
  # æ³¨æ„ï¼šIDLE å’Œ MOVEMENT åŒç´šï¼ˆ30ï¼‰ï¼Œå¯äº’ç›¸æ‰“æ–·ï¼Œé¿å…å‹•ç•«å¡ä½
  levels:
    CURSOR_TRACKING: 10      # æ»‘é¼ è¿½è¹¤éœæ…‹å¹€
    EASTER_EGG: 35           # å½©è›‹å‹•ç•«ï¼ˆæ‰“å“ˆæ¬ ã€dance ç­‰ï¼‰
    IDLE_ANIMATION: 30       # ä¸€èˆ¬ idle å‹•ç•«ï¼ˆèˆ‡ MOVEMENT åŒç´šï¼‰
    MOVEMENT: 30             # ç§»å‹•å‹•ç•«ï¼ˆèˆ‡ IDLE åŒç´šï¼Œå¯äº’ç›¸åˆ‡æ›ï¼‰
    SPECIAL_MOVE: 35         # ç‰¹æ®Šç§»å‹•ï¼ˆsmile, curious, excitedï¼‰
    TRANSITION: 40           # è½‰å ´å‹•ç•«ï¼ˆground â†” floatï¼‰
    TEASE: 45                # Tease å‹•ç•«
    SYSTEM_CYCLE: 50         # ç³»çµ±å¾ªç’°ï¼ˆinput/processing/outputï¼‰
    USER_INTERACTION: 60     # ç”¨æˆ¶äº’å‹•ï¼ˆæ‹–æ›³ struggleã€æŠ•æ“² throwï¼‰
    FORCE_OVERRIDE: 100      # å¼·åˆ¶è¦†è“‹ï¼ˆimmediate_interrupt=Trueï¼‰
  
  # å‹•ç•«ä¾†æºå„ªå…ˆåº¦æ˜ å°„ï¼ˆå¯é¸ï¼šç”¨æ–¼æ‰‹å‹•æŒ‡å®šä¾†æºçš„é è¨­å„ªå…ˆåº¦ï¼‰
  source_defaults:
    idle_behavior: IDLE_ANIMATION
    system_cycle_behavior: SYSTEM_CYCLE
    movement_behavior: MOVEMENT
    transition_behavior: TRANSITION
    special_move_behavior: SPECIAL_MOVE
    drag_handler: USER_INTERACTION
    throw_handler: USER_INTERACTION
    file_handler: USER_INTERACTION  # æª”æ¡ˆæ‹–æ›³æ¥æ”¶
    cursor_tracking: CURSOR_TRACKING
    tease_system: TEASE
    easter_egg: EASTER_EGG
    entry_animation: USER_INTERACTION  # å…¥å ´å‹•ç•«ï¼ˆé«˜å„ªå…ˆåº¦ï¼‰
    exit_animation: USER_INTERACTION   # é›¢å ´å‹•ç•«ï¼ˆé«˜å„ªå…ˆåº¦ï¼‰
  
  # å„ªå…ˆåº¦é–å®šè¨­å®š
  locking:
    # éå¾ªç’°å‹•ç•«å®Œæˆå‰æ˜¯å¦é–å®šå„ªå…ˆåº¦ï¼ˆé˜²æ­¢è¢«ä½å„ªå…ˆåº¦å‹•ç•«æ‰“æ–·ï¼‰
    lock_during_playback: true
    # é è¨­é–å®šæ™‚é–“ï¼ˆç§’ï¼‰ï¼Œç”¨æ–¼æ²’æœ‰æŒ‡å®šæ™‚é•·çš„å‹•ç•«
    default_lock_duration: 2.0
  
  # é˜²æŠ–è¨­å®š
  debounce:
    # å•Ÿç”¨é˜²æŠ–æ©Ÿåˆ¶ï¼ˆé˜²æ­¢å‹•ç•«åˆ‡æ›éæ–¼é »ç¹å°è‡´é–ƒç¾ï¼‰
    enabled: true
    # æœ€å°å‹•ç•«é–“éš”ï¼ˆç§’ï¼‰
    min_interval: 0.1
    # é«˜å„ªå…ˆåº¦å‹•ç•«æ˜¯å¦å¯ä»¥çªç ´é˜²æŠ–é™åˆ¶
    allow_priority_override: true

debug:
  show_velocity_vector: false
  log_mode_changes: false
  track_cursor: false
  log_handler_chain: false
  log_strategy_selection: false
  log_animation_triggers: false
